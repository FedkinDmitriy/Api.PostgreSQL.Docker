# Api.PostgreSQL.Docker
# Web API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –∏ –∑–∞–∫–∞–∑–∞–º–∏

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π ASP.NET Core Web API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –∏ –∏—Ö –∑–∞–∫–∞–∑–∞–º–∏. –í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:

- Entity Framework Core
- PostgreSQL
- Docker + Docker Compose
- Swagger (–¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)
- DTO-–º–æ–¥–µ–ª–∏
- –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º `ICRUDable<T, TId>`
 
### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:

- [.NET SDK 7.0 –∏–ª–∏ –≤—ã—à–µ](https://dotnet.microsoft.com/download)
- [Docker Desktop](https://www.docker.com/products/docker-desktop/)
- [Visual Studio 2022](https://visualstudio.microsoft.com/ru/) —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –¥–ª—è ASP.NET –∏ Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üê≥ –ó–∞–ø—É—Å–∫ PostgreSQL –≤ Docker

–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Docker Compose.

### –®–∞–≥–∏:

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:

```bash
docker-compose up -d
````

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞, PostgreSQL –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `localhost:5432`. –î–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —É–∫–∞–∑–∞–Ω—ã –≤ `appsettings.json`:

```json
"ConnectionStrings": {
  "DefaultConnection": "Host=localhost;Username=postgres;Password=251187;Database=db"
}
```

---

## ‚öôÔ∏è –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ –¥–æ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

### 1. –î–æ–±–∞–≤–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é:

```bash
dotnet ef migrations add InitialCreate --project Data --startup-project WebApp
```

### 2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏:

```bash
dotnet ef database update --project Data --startup-project WebApp
```

> ‚ö†Ô∏è –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `dotnet-ef` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:
>
> ```bash
> dotnet tool install --global dotnet-ef
> ```

---

## üöÄ –ó–∞–ø—É—Å–∫ API

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ë–î –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π –∑–∞–ø—É—Å—Ç–∏—Ç–µ Web API –∫–æ–º–∞–Ω–¥–æ–π:

```bash
dotnet run --project WebApp
```

Swagger UI –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
üìé `https://localhost:<port>/swagger`


## üßë‚Äçüíª –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ (Swagger)

* `GET /api/clients` ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤
* `GET /api/clients/{id}` ‚Äî –ø–æ–ª—É—á–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ —Å –∑–∞–∫–∞–∑–∞–º–∏
* `POST /api/orders` ‚Äî —Å–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑
* `DELETE /api/orders/{id}` ‚Äî —É–¥–∞–ª–∏—Ç—å –∑–∞–∫–∞–∑

---

## üìå –ó–∞–º–µ—Ç–∫–∏

* –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è DTO, —á—Ç–æ–±—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–∏ API –∏ –ë–î.
* –í –±—É–¥—É—â–µ–º –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –Ω–∞ DTO –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞—Ö –º–µ—Ç–æ–¥–æ–≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤.

---

## üõ† –ê–≤—Ç–æ—Ä—ã

* [@FedkinDmitriy](https://github.com/FedkinDmitriy)
